--- config/coreboot-librem13v2.config
+++ config/coreboot-librem13v2.config
@@ -18,6 +18,7 @@ CONFIG_COMPILER_GCC=y
 CONFIG_COMPRESS_RAMSTAGE=y
 CONFIG_INCLUDE_CONFIG_FILE=y
 CONFIG_COLLECT_TIMESTAMPS=y
+# CONFIG_TIMESTAMPS_ON_CONSOLE is not set
 CONFIG_USE_BLOBS=y
 # CONFIG_COVERAGE is not set
 # CONFIG_UBSAN is not set
@@ -34,9 +35,7 @@ CONFIG_MEASURED_BOOT=y
 #
 # Important: Run 'make distclean' before switching boards
 #
-# CONFIG_VENDOR_A_TREND is not set
 # CONFIG_VENDOR_AAEON is not set
-# CONFIG_VENDOR_ABIT is not set
 # CONFIG_VENDOR_ADI is not set
 # CONFIG_VENDOR_ADLINK is not set
 # CONFIG_VENDOR_ADVANSUS is not set
@@ -47,18 +46,14 @@ CONFIG_MEASURED_BOOT=y
 # CONFIG_VENDOR_ASROCK is not set
 # CONFIG_VENDOR_ASUS is not set
 # CONFIG_VENDOR_AVALUE is not set
-# CONFIG_VENDOR_AZZA is not set
 # CONFIG_VENDOR_BACHMANN is not set
 # CONFIG_VENDOR_BAP is not set
 # CONFIG_VENDOR_BCOM is not set
 # CONFIG_VENDOR_BIOSTAR is not set
 # CONFIG_VENDOR_BROADCOM is not set
-# CONFIG_VENDOR_COMPAQ is not set
 # CONFIG_VENDOR_COMPULAB is not set
 # CONFIG_VENDOR_CUBIETECH is not set
 # CONFIG_VENDOR_DIGITALLOGIC is not set
-# CONFIG_VENDOR_DMP is not set
-# CONFIG_VENDOR_ECS is not set
 # CONFIG_VENDOR_ELMEX is not set
 # CONFIG_VENDOR_EMULATION is not set
 # CONFIG_VENDOR_ESD is not set
@@ -71,40 +66,34 @@ CONFIG_MEASURED_BOOT=y
 # CONFIG_VENDOR_IBASE is not set
 # CONFIG_VENDOR_IEI is not set
 # CONFIG_VENDOR_INTEL is not set
-# CONFIG_VENDOR_IWAVE is not set
 # CONFIG_VENDOR_IWILL is not set
 # CONFIG_VENDOR_JETWAY is not set
 # CONFIG_VENDOR_KONTRON is not set
-# CONFIG_VENDOR_LANNER is not set
 # CONFIG_VENDOR_LENOVO is not set
 # CONFIG_VENDOR_LINUTOP is not set
 # CONFIG_VENDOR_LIPPERT is not set
 # CONFIG_VENDOR_LOWRISC is not set
-# CONFIG_VENDOR_MITAC is not set
 # CONFIG_VENDOR_MSI is not set
-# CONFIG_VENDOR_NEC is not set
-# CONFIG_VENDOR_NOKIA is not set
 # CONFIG_VENDOR_NVIDIA is not set
+# CONFIG_VENDOR_OCP is not set
 # CONFIG_VENDOR_PACKARDBELL is not set
 # CONFIG_VENDOR_PCENGINES is not set
 CONFIG_VENDOR_PURISM=y
-# CONFIG_VENDOR_RCA is not set
 # CONFIG_VENDOR_RODA is not set
 # CONFIG_VENDOR_SAMSUNG is not set
 # CONFIG_VENDOR_SAPPHIRE is not set
+# CONFIG_VENDOR_SCALEWAY is not set
 # CONFIG_VENDOR_SIEMENS is not set
-# CONFIG_VENDOR_SOYO is not set
+# CONFIG_VENDOR_SIFIVE is not set
 # CONFIG_VENDOR_SUNW is not set
 # CONFIG_VENDOR_SUPERMICRO is not set
 # CONFIG_VENDOR_TECHNEXION is not set
-# CONFIG_VENDOR_THOMSON is not set
 # CONFIG_VENDOR_TI is not set
 # CONFIG_VENDOR_TRAVERSE is not set
 # CONFIG_VENDOR_TYAN is not set
 # CONFIG_VENDOR_VIA is not set
 # CONFIG_VENDOR_WINENT is not set
 # CONFIG_VENDOR_WINNET is not set
-# CONFIG_VENDOR_WYSE is not set
 CONFIG_MAINBOARD_DIR="purism/librem_skl"
 CONFIG_MAINBOARD_PART_NUMBER="Librem 13 v2"
 CONFIG_IRQ_SLOT_COUNT=18
@@ -123,12 +112,11 @@ CONFIG_DCACHE_RAM_SIZE=0x40000
 CONFIG_MAINBOARD_SMBIOS_MANUFACTURER="Purism"
 CONFIG_HAVE_IFD_BIN=y
 CONFIG_HAVE_ME_BIN=y
-CONFIG_MMCONF_BASE_ADDRESS=0xe0000000
 # CONFIG_POST_IO is not set
 CONFIG_DEVICETREE="variants/librem13v2/devicetree.cb"
 CONFIG_MAX_REBOOT_CNT=3
 # CONFIG_HAVE_GBE_BIN is not set
-CONFIG_ID_SECTION_OFFSET=0x80
+CONFIG_MMCONF_BASE_ADDRESS=0xe0000000
 # CONFIG_POST_DEVICE is not set
 CONFIG_VARIANT_DIR="librem13v2"
 # CONFIG_VBOOT is not set
@@ -152,13 +140,16 @@ CONFIG_DEFAULT_CONSOLE_LOGLEVEL=8
 CONFIG_MAINBOARD_VERSION="2.0"
 # CONFIG_DRIVERS_PS2_KEYBOARD is not set
 # CONFIG_BOARD_PURISM_LIBREM13_V1 is not set
+# CONFIG_BOARD_PURISM_LIBREM15_V2 is not set
 CONFIG_BOARD_PURISM_LIBREM13_V2=y
 # CONFIG_BOARD_PURISM_LIBREM15_V3 is not set
+# CONFIG_BOARD_PURISM_BASEBOARD_LIBREM_BDW is not set
 CONFIG_PCIEXP_L1_SUB_STATE=y
 # CONFIG_NO_POST is not set
 CONFIG_BOARD_PURISM_BASEBOARD_LIBREM_SKL=y
 CONFIG_CPU_MICROCODE_CBFS_LEN=0x18000
 CONFIG_CPU_MICROCODE_CBFS_LOC=0xFFE115A0
+CONFIG_SMBIOS_ENCLOSURE_TYPE=0x09
 CONFIG_BOARD_ROMSIZE_KB_16384=y
 # CONFIG_COREBOOT_ROMSIZE_KB_64 is not set
 # CONFIG_COREBOOT_ROMSIZE_KB_128 is not set
@@ -175,7 +166,6 @@ CONFIG_COREBOOT_ROMSIZE_KB_16384=y
 # CONFIG_COREBOOT_ROMSIZE_KB_65536 is not set
 CONFIG_COREBOOT_ROMSIZE_KB=16384
 CONFIG_ROM_SIZE=0x1000000
-# CONFIG_MAINBOARD_HAS_TPM2 is not set
 CONFIG_SYSTEM_TYPE_LAPTOP=y
 # CONFIG_CBFS_AUTOGEN_ATTRIBUTES is not set
 
@@ -200,7 +190,7 @@ CONFIG_DRIVERS_I2C_DESIGNWARE_CLOCK_MHZ=120
 # CONFIG_SOC_INTEL_GLK is not set
 CONFIG_SOC_INTEL_COMMON_RESET=y
 CONFIG_PCR_BASE_ADDRESS=0xfd000000
-CONFIG_SOC_INTEL_COMMON_LPSS_CLOCK_MHZ=120
+CONFIG_SOC_INTEL_COMMON_BLOCK_GSPI_CLOCK_MHZ=120
 CONFIG_C_ENV_BOOTBLOCK_SIZE=0xC000
 CONFIG_X86_TOP4G_BOOTMEDIA_MAP=y
 CONFIG_ROMSTAGE_ADDR=0x2000000
@@ -208,9 +198,11 @@ CONFIG_VERSTAGE_ADDR=0x2000000
 # CONFIG_NHLT_MAX98357 is not set
 # CONFIG_NHLT_DA7219 is not set
 # CONFIG_SPI_FLASH_INCLUDE_ALL_DRIVERS is not set
+CONFIG_IFD_CHIPSET="sklkbl"
 CONFIG_CPU_BCLK_MHZ=100
 CONFIG_SOC_INTEL_COMMON_LPSS_UART_CLK_M_VAL=0x30
 CONFIG_SOC_INTEL_COMMON_LPSS_UART_CLK_N_VAL=0xc35
+CONFIG_SOC_INTEL_COMMON_BLOCK_GSPI_MAX=2
 # CONFIG_RESET_ON_INVALID_RAMSTAGE_CACHE is not set
 CONFIG_CHIPSET_BOOTBLOCK_INCLUDE="soc/intel/skylake/bootblock/timestamp.inc"
 CONFIG_IED_REGION_SIZE=0x400000
@@ -219,8 +211,8 @@ CONFIG_PCIEXP_COMMON_CLOCK=y
 CONFIG_PCIEXP_CLK_PM=y
 # CONFIG_SERIAL_CPU_INIT is not set
 # CONFIG_UART_DEBUG is not set
+# CONFIG_NHLT_MAX98373 is not set
 CONFIG_MAX_ROOT_PORTS=24
-CONFIG_SOC_INTEL_COMMON_BLOCK_GSPI_MAX=2
 CONFIG_STACK_SIZE=0x1000
 CONFIG_CONSOLE_CBMEM=y
 CONFIG_UART_PCI_ADDR=0x0
@@ -238,7 +230,7 @@ CONFIG_BOOTBLOCK_RESETS="soc/intel/common/reset.c"
 # CONFIG_NHLT_RT5514 is not set
 # CONFIG_NHLT_RT5663 is not set
 # CONFIG_NHLT_MAX98927 is not set
-CONFIG_CAR_NEM_ENHANCED=y
+CONFIG_USE_SKYLAKE_CAR_NEM_ENHANCED=y
 # CONFIG_USE_SKYLAKE_FSP_CAR is not set
 CONFIG_SKIP_FSP_CAR=y
 # CONFIG_NO_FADT_8042 is not set
@@ -284,6 +276,7 @@ CONFIG_SOC_INTEL_COMMON_BLOCK_PMC=y
 # CONFIG_POWER_STATE_OFF_AFTER_FAILURE is not set
 CONFIG_POWER_STATE_ON_AFTER_FAILURE=y
 # CONFIG_POWER_STATE_PREVIOUS_AFTER_FAILURE is not set
+# CONFIG_PMC_INVALID_READ_AFTER_WRITE is not set
 CONFIG_SOC_INTEL_COMMON_BLOCK_RTC=y
 CONFIG_SOC_INTEL_COMMON_BLOCK_SATA=y
 CONFIG_SOC_INTEL_COMMON_BLOCK_SCS=y
@@ -291,6 +284,7 @@ CONFIG_SOC_INTEL_COMMON_BLOCK_SGX=y
 CONFIG_SOC_INTEL_COMMON_BLOCK_SMBUS=y
 CONFIG_SOC_INTEL_COMMON_BLOCK_SMM=y
 CONFIG_SOC_INTEL_COMMON_BLOCK_SMM_IO_TRAP=y
+CONFIG_SOC_INTEL_COMMON_BLOCK_SMM_S5_DELAY_MS=0
 CONFIG_SOC_INTEL_COMMON_BLOCK_SPI=y
 CONFIG_SOC_INTEL_COMMON_BLOCK_SA=y
 CONFIG_SA_PCIEX_LENGTH=0x4000000
@@ -299,13 +293,14 @@ CONFIG_PCIEX_LENGTH_64MB=y
 CONFIG_SA_ENABLE_DPR=y
 CONFIG_SOC_INTEL_COMMON_BLOCK_TIMER=y
 CONFIG_SOC_INTEL_COMMON_BLOCK_UART=y
+CONFIG_SOC_INTEL_COMMON_BLOCK_VMX=y
+CONFIG_SOC_INTEL_COMMON_BLOCK_XDCI=y
 CONFIG_SOC_INTEL_COMMON_BLOCK_XHCI=y
 # CONFIG_DISPLAY_MTRRS is not set
 # CONFIG_DISPLAY_SMM_MEMORY_MAP is not set
 CONFIG_SOC_INTEL_COMMON_ACPI_WAKE_SOURCE=y
 # CONFIG_ACPI_CONSOLE is not set
 # CONFIG_MMA is not set
-CONFIG_SOC_INTEL_COMMON_GFX_OPREGION=y
 # CONFIG_SOC_INTEL_COMMON_SMI is not set
 # CONFIG_SOC_INTEL_COMMON_ACPI is not set
 CONFIG_SOC_INTEL_COMMON_NHLT=y
@@ -316,6 +311,7 @@ CONFIG_SOC_INTEL_COMMON_NHLT=y
 # CONFIG_SOC_NVIDIA_TEGRA210 is not set
 # CONFIG_SOC_QC_IPQ40XX is not set
 # CONFIG_SOC_QC_IPQ806X is not set
+# CONFIG_SOC_QUALCOMM_SDM845 is not set
 # CONFIG_SOC_ROCKCHIP_RK3288 is not set
 # CONFIG_SOC_ROCKCHIP_RK3399 is not set
 # CONFIG_CPU_SAMSUNG_EXYNOS5250 is not set
@@ -394,6 +390,7 @@ CONFIG_MAX_PIRQ_LINKS=4
 # CONFIG_SOUTHBRIDGE_INTEL_COMMON_PIRQ_ACPI_GEN is not set
 # CONFIG_SOUTHBRIDGE_INTEL_COMMON_RCBA_PIRQ is not set
 # CONFIG_HAVE_INTEL_CHIPSET_LOCKDOWN is not set
+# CONFIG_SOUTHBRIDGE_INTEL_COMMON_SMM is not set
 # CONFIG_LOCK_MANAGEMENT_ENGINE is not set
 
 #
@@ -417,6 +414,11 @@ CONFIG_HAVE_INTEL_FIRMWARE=y
 # CONFIG_GOOGLE_SMBIOS_MAINBOARD_VERSION is not set
 # CONFIG_UEFI_2_4_BINDING is not set
 CONFIG_UDK_2015_BINDING=y
+# CONFIG_UDK_2017_BINDING is not set
+CONFIG_UDK_2013_VERSION=2013
+CONFIG_UDK_2015_VERSION=2015
+CONFIG_UDK_2017_VERSION=2017
+CONFIG_UDK_VERSION=2015
 # CONFIG_USE_SIEMENS_HWILIB is not set
 # CONFIG_ARCH_ARM is not set
 # CONFIG_ARCH_BOOTBLOCK_ARM is not set
@@ -447,6 +449,8 @@ CONFIG_UDK_2015_BINDING=y
 # CONFIG_ARCH_VERSTAGE_ARMV8_64 is not set
 # CONFIG_ARCH_ROMSTAGE_ARMV8_64 is not set
 # CONFIG_ARCH_RAMSTAGE_ARMV8_64 is not set
+CONFIG_ARCH_ARMV8_EXTENSION=0
+# CONFIG_ARM64_USE_ARCH_TIMER is not set
 # CONFIG_ARM64_A53_ERRATUM_843419 is not set
 # CONFIG_ARCH_MIPS is not set
 # CONFIG_ARCH_BOOTBLOCK_MIPS is not set
@@ -459,6 +463,7 @@ CONFIG_UDK_2015_BINDING=y
 # CONFIG_ARCH_ROMSTAGE_POWER8 is not set
 # CONFIG_ARCH_RAMSTAGE_POWER8 is not set
 # CONFIG_ARCH_RISCV is not set
+# CONFIG_ARCH_RISCV_COMPRESSED is not set
 # CONFIG_ARCH_BOOTBLOCK_RISCV is not set
 # CONFIG_ARCH_VERSTAGE_RISCV is not set
 # CONFIG_ARCH_ROMSTAGE_RISCV is not set
@@ -484,12 +489,17 @@ CONFIG_PC80_SYSTEM=y
 # CONFIG_BOOTBLOCK_SAVE_BIST_AND_TIMESTAMP is not set
 CONFIG_IOAPIC_INTERRUPTS_ON_FSB=y
 # CONFIG_IOAPIC_INTERRUPTS_ON_APIC_SERIAL_BUS is not set
+CONFIG_ID_SECTION_OFFSET=0x80
 CONFIG_POSTCAR_STAGE=y
 # CONFIG_VERSTAGE_DEBUG_SPINLOOP is not set
 # CONFIG_ROMSTAGE_DEBUG_SPINLOOP is not set
 CONFIG_BOOTBLOCK_SIMPLE=y
 # CONFIG_BOOTBLOCK_NORMAL is not set
 CONFIG_BOOTBLOCK_SOURCE="bootblock_simple.c"
+# CONFIG_COLLECT_TIMESTAMPS_NO_TSC is not set
+CONFIG_COLLECT_TIMESTAMPS_TSC=y
+# CONFIG_PAGING_IN_CACHE_AS_RAM is not set
+# CONFIG_IDT_IN_EVERY_STAGE is not set
 
 #
 # Devices
@@ -497,8 +507,8 @@ CONFIG_BOOTBLOCK_SOURCE="bootblock_simple.c"
 CONFIG_HAVE_FSP_GOP=y
 # CONFIG_MAINBOARD_HAS_NATIVE_VGA_INIT is not set
 # CONFIG_MAINBOARD_HAS_LIBGFXINIT is not set
-# CONFIG_RUN_FSP_GOP is not set
 # CONFIG_VGA_ROM_RUN is not set
+# CONFIG_RUN_FSP_GOP is not set
 CONFIG_NO_GFX_INIT=y
 # CONFIG_MULTIPLE_VGA_ADAPTERS is not set
 # CONFIG_SMBUS_HAS_AUX_CHANNELS is not set
@@ -525,12 +535,12 @@ CONFIG_INTEL_GMA_VBT_FILE="../../blobs/librem_skl/vbt.bin"
 # CONFIG_IPMI_KCS is not set
 # CONFIG_DRIVERS_LENOVO_WACOM is not set
 CONFIG_CACHE_MRC_SETTINGS=y
-CONFIG_MRC_SETTINGS_CACHE_BASE=0xfffe0000
 CONFIG_MRC_SETTINGS_CACHE_SIZE=0x10000
 CONFIG_MRC_SETTINGS_PROTECT=y
 # CONFIG_HAS_RECOVERY_MRC_CACHE is not set
 # CONFIG_MRC_CLEAR_NORMAL_CACHE_ON_RECOVERY_RETRAIN is not set
 # CONFIG_MRC_SETTINGS_VARIABLE_DATA is not set
+# CONFIG_MRC_WRITE_NV_LATE is not set
 # CONFIG_RT8168_GET_MAC_FROM_VPD is not set
 # CONFIG_RT8168_SET_LED_MODE is not set
 CONFIG_SPI_FLASH=y
@@ -557,7 +567,9 @@ CONFIG_BOOT_DEVICE_SPI_FLASH_RW_NOMMAP_EARLY=y
 # CONFIG_SMBIOS_PROVIDED_BY_MOBO is not set
 CONFIG_DRIVERS_I2C_DESIGNWARE=y
 # CONFIG_DRIVERS_I2C_DESIGNWARE_DEBUG is not set
+# CONFIG_DRIVERS_I2C_MAX98373 is not set
 # CONFIG_DRIVERS_I2C_MAX98927 is not set
+# CONFIG_DRIVERS_I2C_PCA9538 is not set
 # CONFIG_DRIVERS_I2C_PCF8523 is not set
 # CONFIG_DRIVERS_I2C_RT5663 is not set
 # CONFIG_DRIVERS_I2C_RTD2132 is not set
@@ -574,12 +586,14 @@ CONFIG_DISPLAY_FSP_CALLS_AND_STATUS=y
 # CONFIG_FSP_CAR is not set
 CONFIG_FSP_M_XIP=y
 # CONFIG_VERIFY_HOBS is not set
+# CONFIG_DISPLAY_FSP_VERSION_INFO is not set
 # CONFIG_FSP2_0_USES_TPM_MRC_HASH is not set
 # CONFIG_INTEL_DDI is not set
 # CONFIG_INTEL_EDID is not set
 # CONFIG_INTEL_INT15 is not set
-# CONFIG_INTEL_GMA_ACPI is not set
+CONFIG_INTEL_GMA_ACPI=y
 # CONFIG_INTEL_GMA_SSC_ALTERNATE_REF is not set
+# CONFIG_INTEL_GMA_SWSMISCI is not set
 # CONFIG_DRIVER_INTEL_I210 is not set
 # CONFIG_DRIVERS_INTEL_MIPI_CAMERA is not set
 # CONFIG_DRIVERS_INTEL_WIFI is not set
@@ -589,12 +603,12 @@ CONFIG_FSP_M_XIP=y
 # CONFIG_DRIVER_PARADE_PS8625 is not set
 # CONFIG_DRIVER_PARADE_PS8640 is not set
 CONFIG_DRIVERS_MC146818=y
-CONFIG_MAINBOARD_HAS_LPC_TPM=y
 CONFIG_LPC_TPM=y
 CONFIG_TPM_TIS_BASE_ADDRESS=0xfed40000
 # CONFIG_TPM_INIT_FAILURE_IS_FATAL is not set
 # CONFIG_SKIP_TPM_STARTUP_ON_NORMAL_BOOT is not set
 # CONFIG_TPM_DEACTIVATE is not set
+# CONFIG_TPM_RDRESP_NEED_DELAY is not set
 # CONFIG_DRIVERS_RICOH_RCE822 is not set
 # CONFIG_DRIVER_SIEMENS_NC_FPGA is not set
 # CONFIG_NC_FPGA_NOTIFY_CB_READY is not set
@@ -613,6 +627,15 @@ CONFIG_TPM_TIS_BASE_ADDRESS=0xfed40000
 #
 # Verified Boot (vboot)
 #
+
+#
+# Trusted Platform Module
+#
+CONFIG_TPM=y
+# CONFIG_DEBUG_TPM is not set
+# CONFIG_MAINBOARD_HAS_TPM_CR50 is not set
+CONFIG_MAINBOARD_HAS_LPC_TPM=y
+# CONFIG_MAINBOARD_HAS_TPM2 is not set
 # CONFIG_ACPI_SATA_GENERATOR is not set
 CONFIG_ACPI_INTEL_HARDWARE_SLEEP_VALUES=y
 # CONFIG_ACPI_AMD_HARDWARE_SLEEP_VALUES is not set
@@ -621,8 +644,6 @@ CONFIG_BOOT_DEVICE_SPI_FLASH=y
 CONFIG_BOOT_DEVICE_MEMORY_MAPPED=y
 CONFIG_BOOT_DEVICE_SUPPORTS_WRITES=y
 CONFIG_RTC=y
-CONFIG_TPM=y
-# CONFIG_MAINBOARD_HAS_TPM_CR50 is not set
 
 #
 # Console
@@ -694,6 +715,7 @@ CONFIG_PAYLOAD_OPTIONS=""
 CONFIG_LINUX_COMMAND_LINE="intel_iommu=on iommu=pt"
 CONFIG_LINUX_INITRD="../../build/librem13v2/initrd.cpio.xz"
 # CONFIG_PAYLOAD_IS_FLAT_BINARY is not set
+CONFIG_COMPRESS_SECONDARY_PAYLOAD=y
 
 #
 # Secondary Payloads
@@ -717,7 +739,6 @@ CONFIG_MEMTEST_STABLE=y
 # CONFIG_DEBUG_SMM_RELOCATION is not set
 # CONFIG_DEBUG_MALLOC is not set
 # CONFIG_DEBUG_ACPI is not set
-# CONFIG_DEBUG_TPM is not set
 # CONFIG_DEBUG_SPI_FLASH is not set
 # CONFIG_TRACE is not set
 # CONFIG_DEBUG_BOOT_STATE is not set
